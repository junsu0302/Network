# 네트워크 모델

## 1. 계층 구조의 개념

네트워크에 연결된 시스템이 통신하기 위해서는 데이터를 주고받는 규칙인 **프로토콜**을 따라야한다. 프로토콜의 설계 과정은 **모듈화**를 통해 이루어 진다. 

### 1.1. 계층적 모듈 구조

큰 시스템의 기능은 특정 단위의 모듈로 나누어 설계한다. 모듈은 독립성과 상호 유기성을 지원해야하기 때문에 적절한 인터페이스가 필요하다.

#### 1.1.1. 모듈화

- **하드웨어**
CPU, 메모리, 하드디스크, LAN 카드
- **소프트웨어**
기능별 함수

#### 1.1.2. 계층 구조

분할 된 모듈은 상하위의 **계층 구조**로 연결되어 동작한다. 계층 구조는 특정 모듈이 다른 모듈에 서비스를 제공하는 형식으로 이루어진다. 모듈화된 계층 구조 프로토콜은 다음과 같은 장점이 있다.

```markdown
1. 전체 시스템 이해가 쉽고, 시스템 설계 및 구현 편리
2. 표준 인터페이스를 통한 시스템 구조 단순화
3. 대칭 구조를 통한 통신 양단의 통일 계층 사이 프로토콜 단순화
4. 기능 오류 시 모듈만 수정
```

### 1.2. 프로토콜 설계 시 고려 사항

프로토콜 설계 시 다음과 같은 사항들을 고려해야 한다

```markdown
1. 주소 표현 : 호스트 구분
2. 오류 제어 : 데이터 오류 시 복구
3. 흐름 제어 : 수신 오류 시 복구
```

#### 1.2.1. 주소 표현

**주소 체계** : 시스템을 구분하여 지징하기 위해 이름을 부여하는 방식

일대다 통신 지원을 위해 다음과 같은 방식을 사용한다.

```markdown
1. 브로드캐스팅 : 모든 호스트에 데이터 전송
2. 멀티캐스팅 : 특정 사용자를 그룹으로 묶어 지칭
```

#### 1.2.2. 오류 제어

**오류 제어**는 데이터 송수신 과정 중 발생하는 데이터 변형 및 분실 오류를 제어하는 방법이다. 이러한 문제는 물리 계층의 전송 매체에 의한 물리적 오류로 인해 발생한다.

```markdown
데이터 분실 or 변형
1. 송신 호스트가 오류 감지
2. 오류 감지 시 데이터 재전송
```

#### 1.2.3. 흐름 제어

**흐름 제어**는 데이터 송수신 과정 중 데이터 분실 오류를 제어하는 방법이다. 이러한 문제는 다음과 같은 송수신 호스트 사이 데이터 전송/처리 속도 차이로 인해 발생한다. 

```markdown
1. 수신 호스트에 데이터 도착
2. 수신 호스트 내부 버퍼에 보관 후 처리
3. 보관 공간 확보 실패 시 데이터 논리적 분실
```

이러한 문제를 해결하기 위해 다음과 같은 방법을 사용한다.

```markdown
1. 송신 호스트 : i번 데이터 전송
2. 수신 호스트 : 다음 데이터 전송 허가
3. 송신 호스트 : i+1번 데이터 전송
```

#### 1.2.4. 데이터 전달 방식

데이터 전달 방식은 다음과 같다

```markdown
1. 단방향 : 일대일 통신 환경에서 데이터 한쪽 방향으로만 전송 
2. 전이중 : 일대일 통신 환경에서 데이터 양쪽 동시 전송
3. 반이중 : 일대일 통신 환경에서 양뱡향 전송 중 특정 상황에서 단방향
```

### 1.3. 서비스 프리미티브

계층 구조 프로토콜에서 하위 계층이 상위 계층에 서비스를 제공하는 방식을 구현하는 형태를 **프리미티브**라고 한다. 즉 프리미티브는 하위 계층을 사용하는 방법을 정량화한 것이다. 통신 프로토콜에서 프리미티브를 홀바르게 수행하기 위해서는 서비스 종류에 맞는 기능을 부여해야한다.









